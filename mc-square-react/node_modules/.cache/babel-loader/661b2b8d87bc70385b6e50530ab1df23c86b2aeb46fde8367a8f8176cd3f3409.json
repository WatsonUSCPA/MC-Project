{"ast":null,"code":"import React,{useEffect,useState}from'react';// 商品型定義\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GAS_WEB_APP_URL='https://script.google.com/macros/s/AKfycbygEEOmylE1fzaMtpxAReEQfY02zIcUVKwVPaV4R5H5AKWnQtgnUbYOKfq3y4mYJPdzYg/exec';const AllProducts=()=>{const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{async function fetchProducts(){setLoading(true);setError(null);try{const response=await fetch(GAS_WEB_APP_URL,{method:'GET',mode:'cors',headers:{'Accept':'application/json'}});if(!response.ok)throw new Error(`データの取得に失敗しました (${response.status})`);const data=await response.json();if(!Array.isArray(data))throw new Error('データの形式が不正です');setProducts(data.filter(item=>item.status==='公開中'));}catch(e){setError(e.message);}finally{setLoading(false);}}fetchProducts();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:'var(--color-primary)',fontSize:'1.6rem',marginBottom:'0.5rem'},children:\"\\u30A8\\u30E0\\u30B7\\u30FC\\u30B9\\u30AF\\u30A8\\u30A2 \\u30AA\\u30F3\\u30E9\\u30A4\\u30F3\\u30BB\\u30EC\\u30AF\\u30B7\\u30E7\\u30F3\"}),loading&&/*#__PURE__*/_jsx(\"div\",{children:\"\\u30C7\\u30FC\\u30BF\\u3092\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"inventory-list\",style:{display:'flex',flexWrap:'wrap',gap:'2rem',justifyContent:'center',marginTop:'2rem'},children:products.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"inventory-card\",style:{background:'#fff',borderRadius:20,boxShadow:'0 4px 16px rgba(255, 159, 124, 0.10)',border:'1px solid #FFD4C4',width:320,padding:'1.5rem',display:'flex',flexDirection:'column',alignItems:'center'},children:[product.imageUrl&&/*#__PURE__*/_jsx(\"img\",{src:product.imageUrl,alt:product.managementNumber,style:{width:160,height:160,objectFit:'cover',borderRadius:16,border:'1px solid #FFD4C4',marginBottom:'1rem',background:'#f8f8f8'}}),/*#__PURE__*/_jsx(\"div\",{className:\"product-name\",children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"managementNumber\",children:[\"\\u7BA1\\u7406\\u756A\\u53F7: \",product.managementNumber]}),/*#__PURE__*/_jsx(\"div\",{className:\"price\",children:product.price}),/*#__PURE__*/_jsx(\"div\",{className:\"status\",children:product.status})]},product.managementNumber))})]});};export default AllProducts;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","GAS_WEB_APP_URL","AllProducts","products","setProducts","loading","setLoading","error","setError","fetchProducts","response","fetch","method","mode","headers","ok","Error","status","data","json","Array","isArray","filter","item","e","message","className","children","style","color","fontSize","marginBottom","display","flexWrap","gap","justifyContent","marginTop","map","product","background","borderRadius","boxShadow","border","width","padding","flexDirection","alignItems","imageUrl","src","alt","managementNumber","height","objectFit","name","price"],"sources":["C:/Users/what1/OneDrive/Desktop/Project/MCProject_Beta/mc-square-react/src/AllProducts.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\n// 商品型定義\r\ninterface Product {\r\n  managementNumber: string;\r\n  name: string;\r\n  price: string;\r\n  imageUrl?: string;\r\n  status?: string;\r\n}\r\n\r\nconst GAS_WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbygEEOmylE1fzaMtpxAReEQfY02zIcUVKwVPaV4R5H5AKWnQtgnUbYOKfq3y4mYJPdzYg/exec';\r\n\r\nconst AllProducts: React.FC = () => {\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    async function fetchProducts() {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const response = await fetch(GAS_WEB_APP_URL, { method: 'GET', mode: 'cors', headers: { 'Accept': 'application/json' } });\r\n        if (!response.ok) throw new Error(`データの取得に失敗しました (${response.status})`);\r\n        const data = await response.json();\r\n        if (!Array.isArray(data)) throw new Error('データの形式が不正です');\r\n        setProducts(data.filter((item: any) => item.status === '公開中'));\r\n      } catch (e: any) {\r\n        setError(e.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1 style={{ color: 'var(--color-primary)', fontSize: '1.6rem', marginBottom: '0.5rem' }}>エムシースクエア オンラインセレクション</h1>\r\n      {loading && <div>データを読み込み中...</div>}\r\n      {error && <div style={{ color: 'red' }}>{error}</div>}\r\n      <div className=\"inventory-list\" style={{ display: 'flex', flexWrap: 'wrap', gap: '2rem', justifyContent: 'center', marginTop: '2rem' }}>\r\n        {products.map(product => (\r\n          <div key={product.managementNumber} className=\"inventory-card\" style={{ background: '#fff', borderRadius: 20, boxShadow: '0 4px 16px rgba(255, 159, 124, 0.10)', border: '1px solid #FFD4C4', width: 320, padding: '1.5rem', display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n            {product.imageUrl && <img src={product.imageUrl} alt={product.managementNumber} style={{ width: 160, height: 160, objectFit: 'cover', borderRadius: 16, border: '1px solid #FFD4C4', marginBottom: '1rem', background: '#f8f8f8' }} />}\r\n            <div className=\"product-name\">{product.name}</div>\r\n            <div className=\"managementNumber\">管理番号: {product.managementNumber}</div>\r\n            <div className=\"price\">{product.price}</div>\r\n            <div className=\"status\">{product.status}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AllProducts; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAElD;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBASA,KAAM,CAAAC,eAAe,CAAG,oHAAoH,CAE5I,KAAM,CAAAC,WAAqB,CAAGA,CAAA,GAAM,CAClC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGR,QAAQ,CAAY,EAAE,CAAC,CACvD,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAgB,IAAI,CAAC,CAEvDD,SAAS,CAAC,IAAM,CACd,cAAe,CAAAc,aAAaA,CAAA,CAAG,CAC7BH,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACd,GAAI,CACF,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACV,eAAe,CAAE,CAAEW,MAAM,CAAE,KAAK,CAAEC,IAAI,CAAE,MAAM,CAAEC,OAAO,CAAE,CAAE,QAAQ,CAAE,kBAAmB,CAAE,CAAC,CAAC,CACzH,GAAI,CAACJ,QAAQ,CAACK,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,kBAAkBN,QAAQ,CAACO,MAAM,GAAG,CAAC,CACvE,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CAClC,GAAI,CAACC,KAAK,CAACC,OAAO,CAACH,IAAI,CAAC,CAAE,KAAM,IAAI,CAAAF,KAAK,CAAC,aAAa,CAAC,CACxDZ,WAAW,CAACc,IAAI,CAACI,MAAM,CAAEC,IAAS,EAAKA,IAAI,CAACN,MAAM,GAAK,KAAK,CAAC,CAAC,CAChE,CAAE,MAAOO,CAAM,CAAE,CACfhB,QAAQ,CAACgB,CAAC,CAACC,OAAO,CAAC,CACrB,CAAC,OAAS,CACRnB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CACAG,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACET,KAAA,QAAK0B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB7B,IAAA,OAAI8B,KAAK,CAAE,CAAEC,KAAK,CAAE,sBAAsB,CAAEC,QAAQ,CAAE,QAAQ,CAAEC,YAAY,CAAE,QAAS,CAAE,CAAAJ,QAAA,CAAC,qHAAoB,CAAI,CAAC,CAClHtB,OAAO,eAAIP,IAAA,QAAA6B,QAAA,CAAK,2DAAY,CAAK,CAAC,CAClCpB,KAAK,eAAIT,IAAA,QAAK8B,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAAF,QAAA,CAAEpB,KAAK,CAAM,CAAC,cACrDT,IAAA,QAAK4B,SAAS,CAAC,gBAAgB,CAACE,KAAK,CAAE,CAAEI,OAAO,CAAE,MAAM,CAAEC,QAAQ,CAAE,MAAM,CAAEC,GAAG,CAAE,MAAM,CAAEC,cAAc,CAAE,QAAQ,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAT,QAAA,CACpIxB,QAAQ,CAACkC,GAAG,CAACC,OAAO,eACnBtC,KAAA,QAAoC0B,SAAS,CAAC,gBAAgB,CAACE,KAAK,CAAE,CAAEW,UAAU,CAAE,MAAM,CAAEC,YAAY,CAAE,EAAE,CAAEC,SAAS,CAAE,sCAAsC,CAAEC,MAAM,CAAE,mBAAmB,CAAEC,KAAK,CAAE,GAAG,CAAEC,OAAO,CAAE,QAAQ,CAAEZ,OAAO,CAAE,MAAM,CAAEa,aAAa,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAAS,CAAE,CAAAnB,QAAA,EAC3RW,OAAO,CAACS,QAAQ,eAAIjD,IAAA,QAAKkD,GAAG,CAAEV,OAAO,CAACS,QAAS,CAACE,GAAG,CAAEX,OAAO,CAACY,gBAAiB,CAACtB,KAAK,CAAE,CAAEe,KAAK,CAAE,GAAG,CAAEQ,MAAM,CAAE,GAAG,CAAEC,SAAS,CAAE,OAAO,CAAEZ,YAAY,CAAE,EAAE,CAAEE,MAAM,CAAE,mBAAmB,CAAEX,YAAY,CAAE,MAAM,CAAEQ,UAAU,CAAE,SAAU,CAAE,CAAE,CAAC,cACtOzC,IAAA,QAAK4B,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEW,OAAO,CAACe,IAAI,CAAM,CAAC,cAClDrD,KAAA,QAAK0B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,EAAC,4BAAM,CAACW,OAAO,CAACY,gBAAgB,EAAM,CAAC,cACxEpD,IAAA,QAAK4B,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEW,OAAO,CAACgB,KAAK,CAAM,CAAC,cAC5CxD,IAAA,QAAK4B,SAAS,CAAC,QAAQ,CAAAC,QAAA,CAAEW,OAAO,CAACrB,MAAM,CAAM,CAAC,GALtCqB,OAAO,CAACY,gBAMb,CACN,CAAC,CACC,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhD,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
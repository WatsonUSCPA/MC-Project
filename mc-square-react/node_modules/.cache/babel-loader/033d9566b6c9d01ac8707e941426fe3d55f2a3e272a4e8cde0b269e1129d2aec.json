{"ast":null,"code":"import React,{useEffect,useState}from'react';// 商品型定義\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GAS_WEB_APP_URL='https://script.google.com/macros/s/AKfycbygEEOmylE1fzaMtpxAReEQfY02zIcUVKwVPaV4R5H5AKWnQtgnUbYOKfq3y4mYJPdzYg/exec';const Subscription=()=>{const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{async function fetchProducts(){setLoading(true);setError(null);try{const response=await fetch(GAS_WEB_APP_URL,{method:'GET',mode:'cors',headers:{'Accept':'application/json'}});if(!response.ok)throw new Error(`データの取得に失敗しました (${response.status})`);const data=await response.json();if(!Array.isArray(data))throw new Error('データの形式が不正です');// サブスク商品だけを抽出（例: nameに\"サブスク\"や\"subscription\"が含まれるもの）\nsetProducts(data.filter(item=>{var _item$name,_item$name2;return item.status==='公開中'&&(((_item$name=item.name)===null||_item$name===void 0?void 0:_item$name.includes('サブスク'))||((_item$name2=item.name)===null||_item$name2===void 0?void 0:_item$name2.toLowerCase().includes('subscription')));}));}catch(e){setError(e.message);}finally{setLoading(false);}}fetchProducts();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:'var(--color-primary)',fontSize:'1.6rem',marginBottom:'0.5rem'},children:\"\\u30B5\\u30D6\\u30B9\\u30AF\\u30EA\\u30D7\\u30B7\\u30E7\\u30F3\\u5546\\u54C1\\u4E00\\u89A7\"}),loading&&/*#__PURE__*/_jsx(\"div\",{children:\"\\u30C7\\u30FC\\u30BF\\u3092\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"inventory-list\",style:{display:'flex',flexWrap:'wrap',gap:'2rem',justifyContent:'center',marginTop:'2rem'},children:products.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"inventory-card\",style:{background:'#fff',borderRadius:20,boxShadow:'0 4px 16px rgba(255, 159, 124, 0.10)',border:'1px solid #FFD4C4',width:320,padding:'1.5rem',display:'flex',flexDirection:'column',alignItems:'center'},children:[product.imageUrl&&/*#__PURE__*/_jsx(\"img\",{src:product.imageUrl,alt:product.managementNumber,style:{width:160,height:160,objectFit:'cover',borderRadius:16,border:'1px solid #FFD4C4',marginBottom:'1rem',background:'#f8f8f8'}}),/*#__PURE__*/_jsx(\"div\",{className:\"product-name\",children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"managementNumber\",children:[\"\\u7BA1\\u7406\\u756A\\u53F7: \",product.managementNumber]}),/*#__PURE__*/_jsx(\"div\",{className:\"price\",children:product.price}),/*#__PURE__*/_jsx(\"div\",{className:\"status\",children:product.status})]},product.managementNumber))})]});};export default Subscription;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","GAS_WEB_APP_URL","Subscription","products","setProducts","loading","setLoading","error","setError","fetchProducts","response","fetch","method","mode","headers","ok","Error","status","data","json","Array","isArray","filter","item","_item$name","_item$name2","name","includes","toLowerCase","e","message","className","children","style","color","fontSize","marginBottom","display","flexWrap","gap","justifyContent","marginTop","map","product","background","borderRadius","boxShadow","border","width","padding","flexDirection","alignItems","imageUrl","src","alt","managementNumber","height","objectFit","price"],"sources":["C:/Users/what1/OneDrive/Desktop/Project/MCProject_Beta/mc-square-react/src/Subscription.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\n// 商品型定義\r\ninterface Product {\r\n  managementNumber: string;\r\n  name: string;\r\n  price: string;\r\n  imageUrl?: string;\r\n  status?: string;\r\n}\r\n\r\nconst GAS_WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbygEEOmylE1fzaMtpxAReEQfY02zIcUVKwVPaV4R5H5AKWnQtgnUbYOKfq3y4mYJPdzYg/exec';\r\n\r\nconst Subscription: React.FC = () => {\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    async function fetchProducts() {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const response = await fetch(GAS_WEB_APP_URL, { method: 'GET', mode: 'cors', headers: { 'Accept': 'application/json' } });\r\n        if (!response.ok) throw new Error(`データの取得に失敗しました (${response.status})`);\r\n        const data = await response.json();\r\n        if (!Array.isArray(data)) throw new Error('データの形式が不正です');\r\n        // サブスク商品だけを抽出（例: nameに\"サブスク\"や\"subscription\"が含まれるもの）\r\n        setProducts(data.filter((item: any) => item.status === '公開中' && (item.name?.includes('サブスク') || item.name?.toLowerCase().includes('subscription'))));\r\n      } catch (e: any) {\r\n        setError(e.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1 style={{ color: 'var(--color-primary)', fontSize: '1.6rem', marginBottom: '0.5rem' }}>サブスクリプション商品一覧</h1>\r\n      {loading && <div>データを読み込み中...</div>}\r\n      {error && <div style={{ color: 'red' }}>{error}</div>}\r\n      <div className=\"inventory-list\" style={{ display: 'flex', flexWrap: 'wrap', gap: '2rem', justifyContent: 'center', marginTop: '2rem' }}>\r\n        {products.map(product => (\r\n          <div key={product.managementNumber} className=\"inventory-card\" style={{ background: '#fff', borderRadius: 20, boxShadow: '0 4px 16px rgba(255, 159, 124, 0.10)', border: '1px solid #FFD4C4', width: 320, padding: '1.5rem', display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n            {product.imageUrl && <img src={product.imageUrl} alt={product.managementNumber} style={{ width: 160, height: 160, objectFit: 'cover', borderRadius: 16, border: '1px solid #FFD4C4', marginBottom: '1rem', background: '#f8f8f8' }} />}\r\n            <div className=\"product-name\">{product.name}</div>\r\n            <div className=\"managementNumber\">管理番号: {product.managementNumber}</div>\r\n            <div className=\"price\">{product.price}</div>\r\n            <div className=\"status\">{product.status}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Subscription; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MC Square - ç®¡ç†è€…ç”»é¢</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Hiragino Kaku Gothic Pro', 'ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ Pro W3', Meiryo, sans-serif;
            line-height: 1.6;
            color: #4a4a4a;
            background: #f5f5f5;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: #fff;
            padding: 1rem 0;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ff6b6b;
        }

        .nav-buttons {
            display: flex;
            gap: 1rem;
        }

        .nav-button {
            display: inline-block;
            background: #ff6b6b;
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .nav-button:hover {
            background: #ff5252;
        }

        .admin-content {
            background: #fff;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .admin-section {
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 1.5rem;
            color: #333;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #ff6b6b;
        }

        .influencer-list {
            display: grid;
            gap: 1rem;
        }

        .influencer-card {
            background: #f9f9f9;
            padding: 1rem;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .influencer-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .influencer-image {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 5px;
        }

        .influencer-details {
            flex: 1;
        }

        .influencer-name {
            font-weight: bold;
            color: #333;
        }

        .influencer-url {
            color: #666;
            font-size: 0.9rem;
        }

        .action-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .action-button {
            padding: 0.3rem 0.6rem;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .edit-button {
            background: #4CAF50;
            color: white;
        }

        .delete-button {
            background: #f44336;
            color: white;
        }

        .add-button {
            background: #2196F3;
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-bottom: 1rem;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
        }

        .modal-content {
            background: #fff;
            width: 90%;
            max-width: 600px;
            margin: 50px auto;
            padding: 2rem;
            border-radius: 10px;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #333;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .form-group textarea {
            height: 100px;
            resize: vertical;
        }

        .url-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .modal-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
            margin-top: 1rem;
        }

        .save-button {
            background: #4CAF50;
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .cancel-button {
            background: #f44336;
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .form-group input[type="file"] {
            display: none;
        }

        .image-upload-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .image-preview {
            width: 200px;
            height: 200px;
            border: 2px dashed #ddd;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            background: #f9f9f9;
        }

        .image-preview img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .upload-button {
            background: #2196F3;
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .upload-button:hover {
            background: #1976D2;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="admin-header">
                <div class="logo">MC Square ç®¡ç†è€…ç”»é¢</div>
                <div class="nav-buttons">
                    <a href="index.html" class="nav-button">ğŸ  ã‚µã‚¤ãƒˆã«æˆ»ã‚‹</a>
                    <a href="#" class="nav-button" id="logoutButton">ğŸšª ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>
                </div>
            </div>
        </header>

        <div class="admin-content">
            <div class="admin-section">
                <h2 class="section-title">ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ç®¡ç†</h2>
                <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
                    <button class="add-button" id="addInfluencerButton">â• æ–°è¦ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼è¿½åŠ </button>
                    <button class="add-button" style="background: #4CAF50;" onclick="exportData()">ğŸ“¥ ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
                    <button class="add-button" style="background: #FF9800;" onclick="importData()">ğŸ“¤ ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</button>
                </div>
                <div class="influencer-list" id="influencerList">
                    <!-- ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ãƒªã‚¹ãƒˆã¯JavaScriptã§å‹•çš„ã«ç”Ÿæˆ -->
                </div>
            </div>
        </div>
    </div>

    <!-- ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼è¿½åŠ /ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div class="modal" id="influencerModal">
        <div class="modal-content">
            <h2 class="section-title" id="modalTitle">ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼è¿½åŠ </h2>
            <form id="influencerForm">
                <div class="form-group">
                    <label for="influencerName">åå‰</label>
                    <input type="text" id="influencerName" required>
                </div>
                <div class="form-group">
                    <label for="influencerDescription">èª¬æ˜</label>
                    <textarea id="influencerDescription" required></textarea>
                </div>
                <div class="form-group">
                    <label for="influencerPrice">æœˆé¡æ–™é‡‘</label>
                    <input type="number" id="influencerPrice" required>
                </div>
                <div class="form-group">
                    <label for="influencerFeatures">ç‰¹å¾´ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰</label>
                    <input type="text" id="influencerFeatures" required>
                </div>
                <div class="form-group url-group">
                    <div>
                        <label for="influencerUrl">ç”³ã—è¾¼ã¿URL</label>
                        <input type="url" id="influencerUrl" required>
                    </div>
                    <div>
                        <label for="influencerProfileUrl">ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼URL</label>
                        <input type="url" id="influencerProfileUrl" required>
                    </div>
                </div>
                <div class="modal-buttons">
                    <button type="button" class="cancel-button" id="cancelButton">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
                    <button type="submit" class="save-button">ä¿å­˜</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ç®¡ç†
        let influencers = [];

        // ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
        function loadInfluencerData() {
            const savedData = localStorage.getItem('influencers');
            if (savedData) {
                influencers = JSON.parse(savedData);
            } else {
                // åˆæœŸãƒ‡ãƒ¼ã‚¿ã‚’è¨­å®š
                influencers = [
                    {
                        id: 1,
                        name: "Ami-Chiku labo",
                        image: "Image/Ami-Chiku labo.png",
                        description: "æ‰‹ä½œã‚Šã®æ¥½ã—ã•ã‚’ä¼ãˆã‚‹äººæ°—ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ã€‚ã‚ªãƒªã‚¸ãƒŠãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚­ãƒƒãƒˆã§ã€ã‚ãªãŸã®æ‰‹ä½œã‚Šãƒ©ã‚¤ãƒ•ã‚’å½©ã‚Šã¾ã™ã€‚",
                        price: 1650,
                        features: ["ã‚ªãƒªã‚¸ãƒŠãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ã‚­ãƒƒãƒˆ", "è©³ç´°ãªä½œã‚Šæ–¹ã‚¬ã‚¤ãƒ‰", "å‹•ç”»ãƒ¬ãƒƒã‚¹ãƒ³", "ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¸ã®å‚åŠ "],
                        url: "https://linktr.ee/mcsquareofficial",
                        profileUrl: "https://www.instagram.com/ami_chiku_labo/"
                    },
                    {
                        id: 2,
                        name: "p_quiltKon",
                        image: "Image/p_quiltKon.png",
                        description: "ãƒ‘ãƒƒãƒãƒ¯ãƒ¼ã‚¯ã®é­…åŠ›ã‚’ç™ºä¿¡ã™ã‚‹äººæ°—ã‚¤ãƒ³ã‚¹ã‚¿ã‚°ãƒ©ãƒãƒ¼ã€‚å­£ç¯€æ„Ÿã‚ãµã‚Œã‚‹ä½œå“ã‚’ãŠå±Šã‘ã—ã¾ã™ã€‚",
                        price: 1870,
                        features: ["å­£ç¯€é™å®šãƒ‡ã‚¶ã‚¤ãƒ³", "ãƒ—ãƒ­ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯è§£èª¬", "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚µãƒãƒ¼ãƒˆ", "é™å®šãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—"],
                        url: "https://linktr.ee/mcsquareofficial",
                        profileUrl: "https://www.instagram.com/p_quiltkon/"
                    },
                    {
                        id: 3,
                        name: "Jaimeï¼ˆãƒã‚¤ãƒ¡ï¼‰ã®åˆºã—ã‚…ã†ä¾¿",
                        image: "Image/Jaime.png",
                        description: "ç¹Šç´°ãªåˆºã—ã‚…ã†ä½œå“ã§äººæ°—ã®ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ã€‚å¿ƒç™’ã•ã‚Œã‚‹ä½œå“ã‚’ãŠå±Šã‘ã—ã¾ã™ã€‚",
                        price: 2000,
                        features: ["ã‚ªãƒªã‚¸ãƒŠãƒ«åˆºã—ã‚…ã†ã‚­ãƒƒãƒˆ", "å‹•ç”»ãƒ¬ãƒƒã‚¹ãƒ³", "ææ–™ã‚»ãƒƒãƒˆ", "ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£å‚åŠ "],
                        url: "https://linktr.ee/mcsquareofficial",
                        profileUrl: "https://www.instagram.com/jaime_embroidery/"
                    }
                ];
                saveInfluencerData(); // åˆæœŸãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜
            }
            renderInfluencerList();
        }

        // ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜
        function saveInfluencerData() {
            const formData = new FormData(document.getElementById('influencerForm'));
            const data = {
                name: formData.get('name'),
                image: formData.get('image'),
                description: formData.get('description'),
                price: formData.get('price'),
                features: formData.get('features').split('\n').filter(f => f.trim())
            };

            // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
            const influencers = JSON.parse(localStorage.getItem('influencers') || '[]');
            const index = parseInt(formData.get('index'));
            
            if (index >= 0) {
                influencers[index] = data;
            } else {
                influencers.push(data);
            }
            
            localStorage.setItem('influencers', JSON.stringify(influencers));
            loadInfluencerData();
            document.getElementById('influencerForm').reset();
            document.getElementById('formIndex').value = '';

            // ä¿å­˜æ™‚ã«è‡ªå‹•ã§JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã¦dataãƒ•ã‚©ãƒ«ãƒ€ã«ä¿å­˜
            const jsonData = JSON.stringify(influencers, null, 2);
            const blob = new Blob([jsonData], { type: 'application/json' });
            
            // File System Access APIã‚’ä½¿ç”¨ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜
            if ('showSaveFilePicker' in window) {
                window.showSaveFilePicker({
                    suggestedName: 'influencers.json',
                    types: [{
                        description: 'JSON Files',
                        accept: { 'application/json': ['.json'] }
                    }]
                }).then(fileHandle => {
                    return fileHandle.createWritable();
                }).then(writable => {
                    return writable.write(blob);
                }).then(() => {
                    alert('ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã—ã€JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°ã—ã¾ã—ãŸã€‚');
                }).catch(err => {
                    console.error('ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ:', err);
                    alert('ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸã€‚æ‰‹å‹•ã§ä¿å­˜ã—ã¦ãã ã•ã„ã€‚');
                });
            } else {
                // File System Access APIãŒä½¿ç”¨ã§ããªã„å ´åˆã¯ã€å¾“æ¥ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ–¹å¼ã‚’ä½¿ç”¨
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'influencers.json';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                alert('ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã—ã¾ã—ãŸã€‚JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’dataãƒ•ã‚©ãƒ«ãƒ€ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚');
            }
        }

        // JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
        function downloadJSON() {
            const influencers = JSON.parse(localStorage.getItem('influencers') || '[]');
            const blob = new Blob([JSON.stringify(influencers, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'influencers.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
        function uploadJSON(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const data = JSON.parse(e.target.result);
                        localStorage.setItem('influencers', JSON.stringify(data));
                        loadInfluencerData();
                        alert('ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸ');
                    } catch (error) {
                        alert('ç„¡åŠ¹ãªJSONãƒ•ã‚¡ã‚¤ãƒ«ã§ã™');
                    }
                };
                reader.readAsText(file);
            }
        }

        // DOMè¦ç´ ã®å–å¾—
        const influencerList = document.getElementById('influencerList');
        const addInfluencerButton = document.getElementById('addInfluencerButton');
        const influencerModal = document.getElementById('influencerModal');
        const influencerForm = document.getElementById('influencerForm');
        const cancelButton = document.getElementById('cancelButton');
        const modalTitle = document.getElementById('modalTitle');

        // ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ãƒªã‚¹ãƒˆã®è¡¨ç¤º
        function renderInfluencerList() {
            influencerList.innerHTML = influencers.map(influencer => `
                <div class="influencer-card">
                    <div class="influencer-info">
                        <img src="${influencer.image}" alt="${influencer.name}" class="influencer-image">
                        <div class="influencer-details">
                            <div class="influencer-name">${influencer.name}</div>
                            <div class="influencer-url">ç”³ã—è¾¼ã¿: ${influencer.url}</div>
                            <div class="influencer-url">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«: ${influencer.profileUrl}</div>
                        </div>
                    </div>
                    <div class="action-buttons">
                        <button class="action-button edit-button" onclick="editInfluencer(${influencer.id})">ç·¨é›†</button>
                        <button class="action-button delete-button" onclick="deleteInfluencer(${influencer.id})">å‰Šé™¤</button>
                    </div>
                </div>
            `).join('');
        }

        // ãƒ¢ãƒ¼ãƒ€ãƒ«ã®è¡¨ç¤º
        function showModal(title) {
            modalTitle.textContent = title;
            influencerModal.style.display = 'block';
        }

        // ãƒ¢ãƒ¼ãƒ€ãƒ«ã®éè¡¨ç¤º
        function hideModal() {
            influencerModal.style.display = 'none';
            influencerForm.reset();
        }

        // ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ã®è¿½åŠ 
        addInfluencerButton.addEventListener('click', () => {
            showModal('ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼è¿½åŠ ');
        });

        // ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ã®ç·¨é›†
        function editInfluencer(id) {
            const influencer = influencers.find(i => i.id === id);
            if (influencer) {
                document.getElementById('influencerName').value = influencer.name;
                document.getElementById('influencerDescription').value = influencer.description;
                document.getElementById('influencerPrice').value = influencer.price;
                document.getElementById('influencerFeatures').value = influencer.features.join(', ');
                document.getElementById('influencerUrl').value = influencer.url;
                document.getElementById('influencerProfileUrl').value = influencer.profileUrl;
                showModal('ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ç·¨é›†');
            }
        }

        // ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ã®å‰Šé™¤
        function deleteInfluencer(id) {
            if (confirm('ã“ã®ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ã‚’å‰Šé™¤ã—ã¦ã‚‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ')) {
                influencers = influencers.filter(i => i.id !== id);
                renderInfluencerList();
                saveInfluencerData(); // ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜
            }
        }

        // ãƒ•ã‚©ãƒ¼ãƒ ã®é€ä¿¡å‡¦ç†
        influencerForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const formData = {
                name: document.getElementById('influencerName').value,
                image: influencers.find(i => i.name === document.getElementById('influencerName').value)?.image || "Image/default.png",
                description: document.getElementById('influencerDescription').value,
                price: parseInt(document.getElementById('influencerPrice').value),
                features: document.getElementById('influencerFeatures').value.split(',').map(f => f.trim()),
                url: document.getElementById('influencerUrl').value,
                profileUrl: document.getElementById('influencerProfileUrl').value
            };

            if (modalTitle.textContent === 'ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼è¿½åŠ ') {
                formData.id = influencers.length + 1;
                influencers.push(formData);
            } else {
                const index = influencers.findIndex(i => i.name === formData.name);
                if (index !== -1) {
                    influencers[index] = { ...influencers[index], ...formData };
                }
            }

            renderInfluencerList();
            hideModal();
            saveInfluencerData(); // ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜
        });

        // ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³ã®å‡¦ç†
        cancelButton.addEventListener('click', hideModal);

        // ãƒ‡ãƒ¼ã‚¿ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã‚’è¿½åŠ 
        function exportData() {
            const dataStr = JSON.stringify(influencers, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = 'influencers.json';
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
        }

        // ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã‚’è¿½åŠ 
        function importData() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            
            input.onchange = e => {
                const file = e.target.files[0];
                const reader = new FileReader();
                
                reader.onload = function(event) {
                    try {
                        const importedData = JSON.parse(event.target.result);
                        influencers = importedData;
                        renderInfluencerList();
                        saveInfluencerData();
                        alert('ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã—ãŸ');
                    } catch (error) {
                        alert('ç„¡åŠ¹ãªãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™');
                    }
                };
                
                reader.readAsText(file);
            };
            
            input.click();
        }

        // åˆæœŸè¡¨ç¤º
        loadInfluencerData();
    </script>
</body>
</html> 